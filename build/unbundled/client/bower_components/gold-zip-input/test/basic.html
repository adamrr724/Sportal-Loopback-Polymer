<!DOCTYPE html><html><head>

  <title>gold-zip-input tests</title>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,user-scalable=yes">

  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
  <script src="../../web-component-tester/browser.js"></script>
  <script src="../../iron-test-helpers/test-helpers.js"></script>

  <link rel="import" href="../gold-zip-input.html">

</head>
<body>

  <test-fixture id="basic">
    <template>
      <gold-zip-input auto-validate="" required="" error-message="error"></gold-zip-input>
    </template>
  </test-fixture>

  <script>suite("basic",function(){test("invalid input is not ok",function(){var e=fixture("basic");e.value="1234",forceXIfStamp(e);var t=Polymer.dom(e.root).querySelector("paper-input-container");assert.ok(t,"paper-input-container exists"),assert.isTrue(t.invalid)}),test("input is formatted ok",function(){var e=fixture("basic");e.value="902101111",assert.equal(e.value,"90210-1111")}),test("spaces instead of dashes are not ok",function(){var e=fixture("basic");e.value="90210 1111",forceXIfStamp(e);var t=Polymer.dom(e.root).querySelector("paper-input-container");assert.ok(t,"paper-input-container exists"),assert.isTrue(t.invalid)}),test("short zipcodes are ok",function(){var e=fixture("basic");e.value="94109",forceXIfStamp(e);var t=Polymer.dom(e.root).querySelector("paper-input-container");assert.ok(t,"paper-input-container exists"),assert.isFalse(t.invalid)}),test("full zipcodes are ok",function(){var e=fixture("basic");e.value="94109-1234",forceXIfStamp(e);var t=Polymer.dom(e.root).querySelector("paper-input-container");assert.ok(t,"paper-input-container exists"),assert.isFalse(t.invalid)}),test("empty required input shows error",function(){var e=fixture("basic");forceXIfStamp(e);var t=Polymer.dom(e.root).querySelector("paper-input-error");assert.ok(t,"paper-input-error exists"),assert.notEqual(getComputedStyle(t).display,"none","error is not display:none")}),test("caret position is preserved",function(){var e=fixture("basic"),t=Polymer.dom(e.root).querySelector('input[is="iron-input"]');e.value="11111-11",t.selectionStart=2,t.selectionEnd=2,e._computeValue("11221-1111"),assert.equal(t.selectionStart,2,"selectionStart is preserved"),assert.equal(t.selectionEnd,2,"selectionEnd is preserved")})}),suite("a11y",function(){test("has aria-labelledby",function(){var e=fixture("basic");assert.isTrue(e.inputElement.hasAttribute("aria-labelledby")),assert.equal(e.inputElement.getAttribute("aria-labelledby"),Polymer.dom(e.root).querySelector("label").id,"aria-labelledby points to the label")})});</script>



</body></html>