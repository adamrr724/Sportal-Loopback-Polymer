(function(e){function r(e){return e&&e.Object===Object?e:null}var n={"function":!0,object:!0},t=n[typeof exports]&&exports&&!exports.nodeType?exports:null,o=n[typeof module]&&module&&!module.nodeType?module:null,u=r(t&&o&&"object"==typeof global&&global),l=r(n[typeof self]&&self),i=r(n[typeof window]&&window),s=(o&&o.exports===t?t:null,r(n[typeof this]&&this)),c=u||i!==(s&&s.window)&&i||l||s||Function("return this")();"function"==typeof define&&define.amd?define(["./rx.lite"],function(r,n){return e(c,n,r)}):"object"==typeof module&&module&&module.exports===t?module.exports=e(c,module.exports,require("rx-lite")):c.Rx=e(c,{},c.Rx)}).call(this,function(e,r,n,t){function o(e){return e?f.isObservable(e)?e:v(e)?f.fromPromise(e):c(e)||s(e)?w.call(this,e):m(e)?i.call(this,e):x(e)||y(e)?u.call(this,e):a(e)?l.call(this,e):e:e}function u(e){return f.from(e).concatMap(function(e){return f.isObservable(e)||a(e)?o.call(null,e):n.Observable.just(e)}).toArray()}function l(e){function r(e,r){n[r]=t,l.push(e.map(function(e){n[r]=e}))}for(var n=new e.constructor,u=Object.keys(e),l=[],i=0,s=u.length;s>i;i++){var c=u[i],a=o.call(this,e[c]);a&&f.isObservable(a)?r(a,c):n[c]=e[c]}return f.forkJoin.apply(f,l).map(function(){return n})}function i(e){var r=this;return new d(function(n){e.call(r,function(){var e=arguments[0],r=arguments[1];if(e)return n.onError(e);if(arguments.length>2){for(var t=[],o=1,u=arguments.length;u>o;o++)t.push(arguments[o]);r=t}n.onNext(r),n.onCompleted()})})}function s(e){return m(e.next)&&m(e["throw"])}function c(e){var r=e.constructor;return r?"GeneratorFunction"===r.name||"GeneratorFunction"===r.displayName?!0:s(r.prototype):!1}function a(e){return Object==e.constructor}var f=n.Observable,p=f.fromPromise,b=f.throwError,d=n.AnonymousObservable,h=(n.ObservableBase,n.AsyncSubject,n.Disposable.create,n.CompositeDisposable),v=(n.Scheduler.immediate,n.Scheduler["default"],n.internals.inherits,n.Scheduler.isScheduler,n.helpers.isPromise),m=n.helpers.isFunction,y=n.helpers.isIterable,x=n.helpers.isArrayLike;f.wrap=function(e){function r(){return f.spawn.call(this,e.apply(this,arguments))}return r.__generatorFunction__=e,r};var w=f.spawn=function(){for(var e=arguments[0],r=this,n=[],t=1,u=arguments.length;u>t;t++)n.push(arguments[t]);return new d(function(t){function u(r){var n=tryCatch(e.next).call(e,r);return n===errorObj?t.onError(n.e):void i(n)}function l(r){var n=tryCatch(e.next).call(e,r);return n===errorObj?t.onError(n.e):void i(n)}function i(e){if(e.done)return t.onNext(e.value),void t.onCompleted();var n=o.call(r,e.value),i=null,c=!1;f.isObservable(n)?s.add(n.subscribe(function(e){c=!0,i=e},l,function(){c&&u(i)})):l(new TypeError("type not supported"))}var s=new h;return m(e)&&(e=e.apply(r,n)),e&&m(e.next)?(u(),s):(t.onNext(e),t.onCompleted())})};return f.start=function(e,r,n){return observableToAsync(e,r,n)()},f.startAsync=function(e){var r=tryCatch(e)();return r===errorObj?b(r.e):p(r)},n});