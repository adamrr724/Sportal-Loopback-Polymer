<html><head><link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-input/paper-input-behavior.html">
<link rel="import" href="../paper-input/paper-input-container.html">
<link rel="import" href="../paper-input/paper-input-error.html">
<link rel="import" href="../iron-input/iron-input.html">
<link rel="import" href="../iron-form-element-behavior/iron-form-element-behavior.html">
<link rel="import" href="zip-validator.html">



</head><body><dom-module id="gold-zip-input">
  <template>
    <style>:host{display:block;}</style>

    <paper-input-container id="container" auto-validate="[[autoValidate]]" attr-for-value="bind-value" disabled$="[[disabled]]" no-label-float="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" invalid="[[invalid]]">

      <label hidden$="[[!label]]">[[label]]</label>

      <zip-validator></zip-validator>

      <input is="iron-input" id="input" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" required$="[[required]]" validator="zip-validator" type="tel" allowed-pattern="[0-9\-]" prevent-invalid-input="" maxlength="10" bind-value="{{value}}" autocomplete="postal-code" name$="[[name]]" disabled$="[[disabled]]" invalid="{{invalid}}" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" size$="[[size]]">

      <template is="dom-if" if="[[errorMessage]]">
        <paper-input-error id="error">[[errorMessage]]</paper-input-error>
      </template>

    </paper-input-container>
  </template>

  <script>!function(){Polymer({is:"gold-zip-input",behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{label:{type:String,value:"Zip Code"}},observers:["_computeValue(value)"],_computeValue:function(e){e=String(e);var t=this.$.input.selectionStart,r="-"===e.charAt(t-1);e=e.replace(/-/g,""),e.length>5&&(e=e.substr(0,5)+"-"+e.substr(5)),this.updateValueAndPreserveCaret(e.trim()),r||"-"!==e.charAt(t-1)||(this.$.input.selectionStart=t+1,this.$.input.selectionEnd=t+1)}})}();</script>

</dom-module>
</body></html>