var proquint=require("proquint");module.exports=function(e){function n(e){t.replicate(o,i.push,function(n,c,u){i.push=u,o.replicate(t,i.pull,function(n,t,o){i.pull=o,e&&e()})})}var t=e.models.LocalTodo,o=e.models.RemoteTodo;e.network={_isConnected:!0,get isConnected(){return console.log("isConnected?",this._isConnected),this._isConnected},set isConnected(e){this._isConnected=e}};var i={push:-1,pull:-1};t.on("after save",function(e,t){t(),n()}),t.on("after delete",function(e,t){t(),n()}),e.sync=n,e.getReadableModelId=function(e){return proquint.encode(new Buffer(e.substring(0,8),"binary"))}};