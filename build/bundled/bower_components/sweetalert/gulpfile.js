var gulp=require("gulp"),glob=require("glob"),path=require("path"),jshint=require("gulp-jshint"),sass=require("gulp-sass"),concat=require("gulp-concat"),uglify=require("gulp-uglify"),rename=require("gulp-rename"),minifyCSS=require("gulp-minify-css"),babelify=require("babelify"),browserify=require("browserify"),source=require("vinyl-source-stream"),buffer=require("vinyl-buffer"),wrap=require("gulp-wrap"),qunit=require("gulp-qunit"),babel=require("gulp-babel");gulp.task("lint",function(){return gulp.src("dev/sweetalert.es6.js").pipe(jshint()).pipe(jshint.reporter("default")),gulp.src("dev/*/*.js").pipe(jshint()).pipe(jshint.reporter("default"))}),gulp.task("sass",function(){gulp.src("example/example.scss").pipe(sass()).pipe(rename("example.css")).pipe(gulp.dest("example")),gulp.src(["dev/sweetalert.scss","dev/ie9.css","dev/loader-animation.css"]).pipe(sass()).pipe(concat("sweetalert.css")).pipe(gulp.dest("dist"))});var themes=glob.sync("themes/*").map(function(e){return path.basename(e)});themes.forEach(function(e){gulp.task(e+"-theme",function(){return gulp.src("themes/"+e+"/"+e+".scss").pipe(sass()).pipe(rename(e+".css")).pipe(gulp.dest("themes/"+e))})}),gulp.task("themes",themes.map(function(e){return e+"-theme"})),gulp.task("commonjs",function(){gulp.src("./dev/sweetalert.es6.js").pipe(babel()).pipe(rename("sweetalert.js")).pipe(gulp.dest("lib")),gulp.src("./dev/modules/*.js").pipe(babel()).pipe(gulp.dest("lib/modules"))}),gulp.task("scripts",function(){return browserify({entries:"./dev/sweetalert.es6.js",debug:!0}).transform(babelify).bundle().pipe(source("sweetalert-dev.js")).pipe(wrap({src:"./dev/gulpfile-wrap-template.js"})).pipe(gulp.dest("dist")).pipe(rename("sweetalert.min.js")).pipe(buffer()).pipe(uglify()).pipe(gulp.dest("dist"))}),gulp.task("test",function(){return gulp.src("./test/index.html").pipe(qunit({timeout:20}))}),gulp.task("watch",function(){gulp.watch(["dev/*.js","dev/*/*.js"],["lint","scripts"]),gulp.watch(["dev/*.scss","dev/*.css"],["sass"]),gulp.watch("themes/*/*.scss",["themes"])}),gulp.task("default",["lint","sass","scripts","commonjs","watch","test"]);